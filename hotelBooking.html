<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Hotel Booking System</title>
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f8f8f8;
    }
    nav {
      background: #333;
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
    }
    nav .nav-left,
    nav .nav-right {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    nav a, nav button {
      color: #fff;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
    }
    nav .dropdown {
      position: relative;
    }
    nav .dropdown-content {
      display: none;
      position: absolute;
      background-color: #444;
      right: 0;
      top: 100%;
      min-width: 160px;
      z-index: 1;
    }
    nav .dropdown-content button {
      width: 100%;
      text-align: left;
      padding: 10px;
      border: none;
    }
    nav .dropdown:hover .dropdown-content {
      display: block;
    }
    .date-selector {
      padding: 10px 20px;
      background: #eee;
    }
    .room-list {
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }
    .room {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .room .actions button {
      margin-top: 10px;
      padding: 5px 10px;
      cursor: pointer;
    }
    #bookingPopup, #detailsPopup, #breakdownPopup, #checkinPopup, #historyPopup, #upcomingPopup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 0 15px rgba(0,0,0,0.3);
      z-index: 1000;
      max-height: 80vh;
      overflow-y: auto;
    }
    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }
  </style>
</head>
<body>
<div id="overlay" onclick="closeAllPopups()"></div>
<nav>
  <div class="nav-left">
    <button onclick="window.location.href='index.html'">Exit</button>
    <button onclick="window.location.href='pos.html'">POS</button>
    <button onclick="window.location.href='hotelBooking.html'">Hotel System</button>
  </div>
  <div class="date-selector">
    <label for="selectedDate">Date:</label>
    <input type="date" id="selectedDate" onchange="filterByDate()">
  </div>
  <div class="nav-right">
    <button onclick="showBookingPopup()">New Booking</button>
    <div class="dropdown">
      <button>ADMIN</button>
      <div class="dropdown-content">
        <button onclick="showHistory()">History</button>
        <button onclick="showUpcoming()">Upcoming</button>
      </div>
    </div>
  </div>
</nav>

<div class="room-list" id="roomList">
  <!-- Rooms will be injected here -->
</div>

<!-- Popups -->
<div id="bookingPopup">
  <h2>New Booking</h2>
  <input type="text" placeholder="First Name">
  <input type="text" placeholder="Last Name">
  <input type="number" placeholder="Guests">
  <input type="date" placeholder="Arrival">
  <input type="date" placeholder="Departure">
  <label><input type="checkbox"> Add £50 Tab Deposit</label><br>
  <select>
    <option>Choose Room</option>
    <option>101</option>
    <option>102</option>
    <option>103</option>
    <option>104</option>
    <option>105</option>
    <option>106</option>
  </select>
  <button>Find Room</button>
  <button>Confirm</button>
  <button onclick="closeAllPopups()">Close</button>
</div>

<div id="detailsPopup">
  <h2>Guest Details</h2>
  <p>Name: John Doe</p>
  <p>Stay: 17 Apr – 19 Apr</p>
  <p>Guests: 2</p>
  <p>Total Bill: £225 <button onclick="showBreakdown()">Breakdown</button></p>
  <button onclick="closeAllPopups()">Close</button>
</div>

<div id="breakdownPopup">
  <h2>Charges Breakdown</h2>
  <ul>
    <li>Room 2 nights: £150</li>
    <li>POS Charges: £25</li>
    <li>Tab Deposit: £50</li>
  </ul>
  <button onclick="closeAllPopups()">Close</button>
</div>

<div id="checkinPopup">
  <h2>Check In</h2>
  <label><input type="checkbox"> Take £100 Deposit</label><br>
  <label>Username</label>
  <input type="text">
  <label>Password</label>
  <input type="password">
  <button>Check In</button>
  <button onclick="closeAllPopups()">Cancel</button>
</div>

<div id="historyPopup">
  <h2>Booking History</h2>
  <div id="historyList"></div>
  <button onclick="closeAllPopups()">Close</button>
</div>

<div id="upcomingPopup">
  <h2>Upcoming Bookings</h2>
  <div id="upcomingList"></div>
  <button onclick="closeAllPopups()">Close</button>
</div>

<script>
  // Placeholder for localStorage logic, data population, date filtering etc.
  // You’ll want to use localStorage.setItem/getItem and JSON.parse/stringify

  function showBookingPopup() {
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('bookingPopup').style.display = 'block';
  }

  function showBreakdown() {
    document.getElementById('detailsPopup').style.display = 'none';
    document.getElementById('breakdownPopup').style.display = 'block';
  }

  function showHistory() {
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('historyPopup').style.display = 'block';
  }

  function showUpcoming() {
    document.getElementById('overlay').style.display = 'block';
    document.getElementById('upcomingPopup').style.display = 'block';
  }

  function closeAllPopups() {
    document.querySelectorAll('#bookingPopup, #detailsPopup, #breakdownPopup, #checkinPopup, #historyPopup, #upcomingPopup').forEach(p => p.style.display = 'none');
    document.getElementById('overlay').style.display = 'none';
  }
</script>
</body>
</html>
